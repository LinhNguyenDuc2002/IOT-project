<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="/style/home.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
    integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>

    <!-- Firebase Realtime Database -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
    <div class="title">PLANT ROOM MONITORING SYSTEM</div>

    <div class="content">
        <div class="history">
            <div class="input">
                <label for="">
                    Date <input type="date" id="date">
                </label>

                <label for="">
                    Start at <input type="time" name="" id="start">
                </label>

                <label for="">
                    End at <input type="time" name="" id="end">
                </label>

                <select class="type" name="" id="type">
                    <option value="sensor">Sensor history</option>
                    <option value="activity">Activity history</option>
                </select>
            </div>

            <div class="container">
                <table class="mytable sensor-history">
                    <thead>
                        <tr class="name">
                            <th>STT</th>
                            <th>Time</th>
                            <th>Temperature ( °C )</th>
                            <th>Humidity ( % )</th>
                            <th>Actions</th>
                        </tr>
                    </thead>

                    <tbody id="table1"></tbody>
                </table>

                <table class="mytable activity-history" >
                    <thead>
                        <tr class="name">
                            <th>STT</th>
                            <th>Time</th>
                            <th>Severity</th>
                            <th>Message</th>
                            <th>Actions</th>
                        </tr>
                    </thead>

                    <tbody id="table2"></tbody>
                </table>
            </div>
        </div>

        <div class="adjust">
            <div class="image">
                <div class="img">
                    <img class="plant-img" alt="Plant picture">
                    <img class="plant-img" alt="Plant picture">
                </div>

                <div class="evaluate">
                    <p class="message"></p>
                    <div class="result">
                    </div>
                </div>
            </div>

            <div class="selection">
                <input type="text" class="email" placeholder="Enter email to receive notifications">

                <button class="set-email">Set</button>

                <div class="confirm confirm-email">
                    <i class="fa-solid fa-check"></i>
                    <p>Success</p>
                </div>
            </div>

            <div class="selection">
                <select class="plants" name="" id="">
                </select>

                <button class="find">Setup</button>

                <div class="confirm confirm-plant">
                    <i class="fa-solid fa-check"></i>
                    <p>Success</p>
                </div>
            </div>

            <div class="plant-info">
                <div class="left">
                    <p class="info">Light (mmol): <span class="light-mmol">...</span></p>
                    <p class="info">Light (lux): <span class="light-lux">...</span></p>
                    <p class="info">Temperature (°C): <span class="temp">...</span></p>
                </div>

                <div class="right">
                    <p class="info">Humidity (%): <span class="hum">...</span></p>
                    <p class="info">Soil moisture: <span class="soil">...</span></p>
                    <p class="info">Soil EC: <span class="soil-ec">...</span></p>
                </div>
            </div>

            <div class="info">
                <div class="info-detail">
                    <div class="info-average">
                        <p class="average" style="color: orangered;">Current temperature: <span class="tempValue">...</span></p>
                        <p class="average" style="color: blue;">Current humidity: <span class="humValue">...</span></p>
                    </div>

                    <div class="forecast">
                        <p class="average" style="color: orangered;">Predicted temperature: <span class="tempValue">...</span></p>
                        <p class="average" style="color: blue;">Predicted humidity: <span class="humValue">...</span></p>
                    </div>
                </div>

                <div class="direct">
                    <a href="/pages/monitor.html">View monitor</a>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.emailjs.com/dist/email.min.js"></script>
    <script src="/script/getPlantApi.js"></script>
    <script src="/script/sendEmail.js"></script>
    <script src="/script/addData.js"></script>
    <script src="/script/addLog.js"></script>
    <script src="/script/home.js"></script>
    <script src="/script/callApi.js"></script>
    <script>
        $('.input input, .type').change(function () {
            filterData();
        });

        $(document).ready(function () {
            filterData();
        });

        let now = new Date();
        let hour = now.getHours().toString().padStart(2, '0');
        let minute = now.getMinutes().toString().padStart(2, '0');
        let second = now.getSeconds.toString().padStart(2, '0');

        document.getElementById('date').valueAsDate = new Date();
        document.getElementById('start').value = "00:00";
        document.getElementById('end').value = hour + ":" + minute;
    </script>
</body>
</html>